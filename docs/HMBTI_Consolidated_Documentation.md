# HMBTI (Heavy Music Beholder Type Indicator) 项目完整文档

本文档整合了 HMBTI 项目的所有核心文档，包括产品需求文档（PRD）、技术实现方案、文案规范、题库数据及视觉生成规范。

---

## 目录
1. [项目 PRD（产品需求文档）](#1-项目-prd产品需求文档)
2. [技术实现方案（MVP v1.0）](#2-技术实现方案mvp-v10)
3. [欢迎页文案（UX Copy）](#3-欢迎页文案ux-copy)
4. [题库初始化数据（40 题）](#4-题库初始化数据40-题)
5. [Nano Banana 背景图提示词规范](#5-nano-banana-背景图提示词规范)

---

## 1. 项目 PRD（产品需求文档）

### 1.1 项目基本信息
- **项目名称**：HMBTI（Heavy Music Beholder Type Indicator）
- **中文名称**：重型音乐体验者类型指标
- **目标人群**：中文语境下的重型音乐乐迷（Hardcore / Metal / Punk / 极端音乐相关圈层）
- **项目定位**：HMBTI 是一套用于描述「人如何通过重型音乐与自身产生连接」的类型系统，而非人格、性格或心理诊断工具。

### 1.2 产品目标
- 为乐迷提供一种可被讨论、可被反思的音乐体验描述框架
- 为研究者积累高质量、匿名的音乐体验行为数据
- 支持模型的长期迭代，而不破坏历史数据

### 1.3 核心原则
- 中文语境优先
- 不涉及人格、性格、心理诊断结论
- 所有数据对象不可变，仅支持软删除
- 允许用户跳题，以暴露题目本身的问题

### 1.4 用户流程概览
首页 → 答题页（4 个维度） → 回访问卷 → 结果页（永久链接）

### 1.5 答题页设计
- **题目结构**：共 4 个维度；每个维度随机抽取若干题目（6–8 题）；每个维度允许跳过 1 题。
- **作答规则**：4 点量表；记录作答时间、跳过行为；跳过不影响结果生成。

### 1.6 回访问卷
- 圈层角色
- 参与强度
- 作答依据（长期 / 近期）

### 1.7 结果页
- 显示 HMBTI 类型代码
- 类型中文名称
- 类型简要解释
- 生成时间戳
- 永久访问链接

### 1.8 管理后台
- 题目跳过率
- 题目作答时长
- 题目区分度分析
- 类型分布统计

### 1.9 非功能需求
- 完全匿名
- 无用户登录
- 支持 GitHub Pages 部署

---

## 2. 技术实现方案（MVP v1.0）

### 2.1 总体架构
- **前端**：纯前端静态站点（GitHub Pages / Vite）
- **后端**：Supabase（BaaS）
  - PostgreSQL 数据库
  - Row Level Security（RLS）
  - Auth（仅管理员）
- **通信方式**：Supabase JS SDK（HTTPS）

### 2.2 页面结构
- `/`：Welcome / 项目说明页
- `/test`：答题流程页（单页状态机）
- `/post-survey`：回访问卷页
- `/result/:id`：结果展示页（永久链接）
- `/admin`：管理员统计页（受保护）

### 2.3 答题流程实现
- **维度与抽题规则**：共 4 个维度：`I_E / C_B / O_X / G_F`。v1.0 固定每个维度随机抽取 6 道题。
- **跳题控制**：每个维度允许跳过 1 道题。若有效作答题数 < 4，设 `confidence_flag` 为 `low`。
- **数据采集**：记录 `question_id`, `answer_value`, `skipped`, `view_duration_ms`。

### 2.4 判型与计分逻辑
- 判型逻辑不写入数据库，由前端根据绑定的 `model_version` 配置文件执行。
- 输出 `result_vector` 和 `result_type`（如 `ICXG`）并写入 `tests` 表。

### 2.5 后端数据结构
- `questions(id, dimension, text, is_active, created_at)`
- `tests(id, started_at, completed_at, model_version, result_type, result_vector, confidence_flag, created_at)`
- `answers(id, test_id, question_id, answer_value, skipped, view_duration_ms, created_at)`
- `post_surveys(test_id, role, engagement_level, answer_basis, created_at)`

---

## 3. 欢迎页文案（UX Copy）

### 欢迎来到 HMBTI：重型音乐体验者类型指标

这不是一个音乐风格测试。HMBTI 关注的是：**你是如何通过重型音乐与自己产生连接的。**

#### 你可能会好奇
- 为什么同样听重型音乐，有些人需要现场，有些人更偏向独听？
- 为什么有人把音乐当成宣泄，有人却把它当成长期支撑？
- 为什么在同一个风格里，大家却“听得完全不一样”？
HMBTI 试图回答的，正是这些问题。

#### 这不是在给你贴标签
和 MBTI 一样，HMBTI 是一种**类型系统**，而不是诊断工具。
- 它不判断好坏
- 不定义你是谁
- 也不要求你“符合某一型”
它只是描述一种状态：**当你与重型音乐相遇时，你通常是如何体验、使用和理解它的。**

#### Beholder 是什么意思？
在 HMBTI 中，你不是“消费者”，也不只是“听众”。**Beholder 指的是：处在音乐体验之中的那个人。** 意义并不只存在于音乐本身，也存在于你如何去经历它。

#### 关于作答
- 没有正确答案
- 请基于你的长期状态作答
- 你可以跳过不适合你的题目
- 跳过不会影响结果生成

---

## 4. 题库初始化数据（40 题）

```sql
insert into public.questions (dimension, text) values
-- I_E（体验取向）
('I_E', '听重型音乐时，我更倾向于选择一个不被打扰的空间。'),
('I_E', '如果环境不允许我自由活动，我会觉得音乐体验被削弱了。'),
('I_E', '听音乐时，我很少同时关注周围发生的事情。'),
('I_E', '我听音乐时，会自然注意到他人的反应或现场氛围。'),
('I_E', '听完真正击中我的音乐后，我通常会变得更安静。'),
('I_E', '听完音乐后，我会有想说话、想行动的冲动。'),
('I_E', '我很少需要向别人解释我为什么喜欢某种音乐。'),
('I_E', '和别人一起分享音乐体验，会让我感觉更完整。'),
('I_E', '即使错过一场重要现场，只要音乐本身还在，我可以接受。'),
('I_E', '如果没能亲身参与现场，我会觉得“少了点什么”。'),

-- C_B（音乐功能）
('C_B', '我通常在情绪已经被触发后，才会打开重型音乐。'),
('C_B', '即使情绪平稳，我也会持续听某些音乐作为背景支撑。'),
('C_B', '听完音乐后，我更关心“舒服没舒服”。'),
('C_B', '听完音乐后，我更关心“是否更清楚自己在做什么”。'),
('C_B', '如果情绪已经通过别的方式释放，我对音乐的需求会明显下降。'),
('C_B', '即使情绪稳定，我也会因为认同而回到某些音乐。'),
('C_B', '我很少把音乐当成长期的一部分来看待。'),
('C_B', '有些音乐已经融入了我对自己的理解。'),
('C_B', '一段时间不听重型音乐，对我来说问题不大。'),
('C_B', '长期脱离某类音乐，会让我感觉自己被抽空了一部分。'),

-- O_X（结构审美）
('O_X', '结构清晰会让我更容易沉浸。'),
('O_X', '不确定性本身会让我兴奋。'),
('O_X', '我对“听得懂”这件事很看重。'),
('O_X', '即使听不懂，只要够极端我也愿意继续听。'),
('O_X', '如果一首歌显得失控，我会本能地警惕。'),
('O_X', '我享受音乐中那种“随时可能出事”的感觉。'),
('O_X', '我更容易反复听结构稳定的作品。'),
('O_X', '我更容易反复听充满变数的作品。'),
('O_X', '我更欣赏对声音的掌控力。'),
('O_X', '我更欣赏突破边界的冒险。'),

-- G_F（文化姿态）
('G_F', '我判断一支乐队时，会参考它来自哪里、继承了什么。'),
('G_F', '我判断一支乐队时，更看重它现在在做什么。'),
('G_F', '我对“这个不算那个风格”的说法并不反感。'),
('G_F', '我对风格标签的争论通常不太在意。'),
('G_F', '历史和传承是音乐价值的重要组成部分。'),
('G_F', '历史不应该成为创作的负担。'),
('G_F', '我对变化太快的风格会感到不适。'),
('G_F', '我对不断变化的风格反而更有兴趣。'),
('G_F', '我更信任时间检验过的东西。'),
('G_F', '我更信任当下的表达强度。');
```

---

## 5. Nano Banana 背景图提示词规范

### 5.1 统一生成规范
**通用前缀**：暗黑抽象专辑封面，地下重型音乐美学，电影级光影，高对比，粗颗粒胶片质感，低饱和，细节丰富，中心留出轻微呼吸空间，无文字无logo
**通用负面约束**：不要文字，不要logo，不要卡通，不要可爱风，不要清晰人脸，不要UI元素，不要霓虹赛博风过强，不要明亮糖果色

### 5.2 16 型差异化后缀

#### 【G｜守护取向】
- **EBOG**: 人群能量与集体意志的象征，握拳般的几何形态，规整而短促的节奏线条，坚硬、直接、冲击感强
- **ECOG**: 纪律与速度的象征，锐利斜切的金属片层，重复推进的动势，精确、冷静、高速
- **ECXG**: 失控爆裂的象征，撕裂与碎片化构图，强烈运动模糊，噪点与裂纹如同爆破
- **EBXG**: 仪式与行动的象征，火焰痕迹与粗粝布料纹理，抗议旗帜般的抽象轮廓，原始而有方向
- **IBOG**: 沉重秩序与谱系的象征，巨石碑般的结构体，古老符号的抽象纹样，稳定、庄严、缓慢压迫
- **ICOG**: 精密控制的象征，复杂机械与分形纹理，细密但不混乱，冷硬而高强度的内在张力
- **IBXG**: 冷峻传统的象征，冰冷空旷的空间感，远处尖塔或山脊的抽象轮廓，肃穆、克制、宿命感
- **ICXG**: 内向崩塌的象征，向内坍缩的漩涡构图，黑雾与压迫层次，窒息感强烈而锋利

#### 【F｜开放取向】
- **EBOF**: 扩散与传播的象征，开放式几何结构向外展开，现代材质混合，像舞台灯光扫过
- **ECOF**: 稳定推进的能量象征，厚重机械运动感，引擎与齿轮般的抽象节律，持续、可靠、有力量
- **ECXF**: 风格碰撞的象征，多材质断裂拼贴，失真波形般的扭曲，实验性强但中心稳定
- **EBXF**: 行动中转化的象征，路径与迁移的抽象轨迹，破坏后重组的形态，动势明确、持续前进
- **IBOF**: 重写结构的象征，层层叠加的建筑式抽象，秩序被重新编排，理性而不保守
- **ICOF**: 内省修复的象征，暗色基调中微弱暖光，柔和但不温柔，像伤口结痂后的纹理
- **IBXF**: 边界消散的象征，巨大空间与雾化层叠，远近景拉开，氛围缓慢覆盖一切
- **ICXF**: 感官过载的象征，噪点洪流与溶解感，边缘燃烧与腐蚀纹理，强刺激但不花哨
